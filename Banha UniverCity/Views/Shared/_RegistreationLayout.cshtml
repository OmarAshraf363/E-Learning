@using Banha_UniverCity.Repository.IRepository
@using Microsoft.AspNetCore.Identity
@inject IUnitOfWork _unitOfWork;
@inject UserManager<IdentityUser> _userManger
@{
    var userId = _userManger.GetUserId(User);
    var cart = await _unitOfWork.cartRepository.GetOneAsync(e => e.UserId == userId);


}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Bfcai Platform</title>

    <!-- CSS and Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.6/main.min.css" rel="stylesheet">
    <link href="~/css/global.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/home.css" rel="stylesheet" asp-append-version="true" />

</head>
<body>
    <!-- Header Section -->
    <header class="container-fluid">
        <div class="container-fluid head">
            <div class="brand">

                <a href="/Customer" class="text-light text-decoration-none">
                    <h1>BFC<span>ai</span></h1>
                </a>

                <!-- Menu Toggle Button (Visible on Mobile Only) -->
                <button class="menu-toggle d-lg-none" onclick="toggleMobileMenu()">
                    <i class="fa fa-bars"></i>
                </button>
            </div>

            <!-- Navigation & Extras -->
            <div class="nav-wrapper">
                <!-- Navigation Links -->
                <nav class="cont">
                    <ul class="d-flex list-unstyled justify-content-between align-items-center">
                        <li><a asp-area="Customer" asp-controller="Home" asp-action="Courses" asp-route-pageSize="@StaticData.StaticDataPageSize">Courses</a></li>
                        <li class="nav-item dropdown dropdown-hover position-relative">
                            <a class="dropdown-toggle" role="button">Categories | Tracks</a>

                            @await Component.InvokeAsync("Categories")
                        </li>
                        @if (User.IsInRole(StaticData.role_Student))
                        {
                            <li><a asp-area="Student" asp-controller="DashBoard" asp-action="Index">My Learning</a></li>
                        }
                        <li><a asp-area="Customer" asp-controller="Community" asp-action="Index">Communites</a></li>
                    </ul>
                </nav>

                <!-- Search bar -->
                <form class="search-bar cont" asp-action="Courses" method="get">
                    <input type="search" value="@ViewBag.search" class="form-control  rounded-3 bg-light" placeholder="Search..." name="search">
                    <button type="submit" class="btn btn-warning ms-2"><i class="fas fa-search"></i></button>
                </form>

                <!-- Shopping Cart Icon -->
                <div class="cart">@await Component.InvokeAsync("CartIcon")</div>

                <!-- Login/Register Partial -->
                <div class="partial">
                    <partial class="cont" name="_LoginPartial"></partial>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container-fluid">
        @RenderBody()
    </main>

    <!-- Footer Section -->
    @*     <footer class="container-fluid">
        <div class="container">
            <div class="row">
                <!-- About Section -->
                <div class="col-md-4">
                    <h5>About Us</h5>
                    <p>Bfcai Platform is dedicated to providing top-notch courses and resources for students. Join us to advance your knowledge and skills in various fields.</p>
                </div>

                <!-- Links Section -->
                <div class="col-md-4 footer-links">
                    <h5>Quick Links</h5>
                    <ul>
                        <li><a href="#">Courses</a></li>
                        <li><a href="#">Departments</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>

                <!-- Contact and Social Media Section -->
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Education Lane, University Town</p>
                    <p><i class="fas fa-phone"></i> +123 456 7890</p>
                    <p><i class="fas fa-envelope"></i> support@bfcaiplatform.com</p>

                    <!-- Social Media Icons -->
                    <div class="social-icons mt-3">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer> *@

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.6/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/Home.js" asp-append-version="true"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>


    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
